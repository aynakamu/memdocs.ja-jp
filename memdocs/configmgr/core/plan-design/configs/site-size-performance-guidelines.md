---
title: サイトのサイズとパフォーマンスのガイドライン
titleSuffix: Configuration Manager
description: サイトのサイズに関連したパフォーマンス テストの結果、方法論、ガイダンス。
author: aczechowski
ms.author: aaroncz
ms.prod: configuration-manager
ms.topic: conceptual
ms.date: 04/23/2019
ms.openlocfilehash: 7380621fdc7a7f4d26b4844df3ee9026f0997024
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/21/2020
ms.locfileid: "81688650"
---
# <a name="configuration-manager-site-size-and-performance-guidelines"></a>Configuration Manager サイトのサイズとパフォーマンスのガイドライン

*適用対象:Configuration Manager (Current Branch)*

Configuration Manager は、スケーラビリティとパフォーマンスで業界をリードしています。 最大の環境サイズでサイトを実行するための、[サポートされている最大スケーラビリティの制限](size-and-scale-numbers.md)および[ハードウェア ガイドライン](recommended-hardware.md)については、他のドキュメントで説明しています。 この記事では、あらゆるサイズの環境のパフォーマンスに関する補足のガイダンスを示します。 このガイダンスは、Configuration Manager を展開する必要があるハードウェアをより正確に見積もるのに役立ちます。

この記事では、Configuration Manager のパフォーマンスのボトルネックに最も大きく影響する、ディスク入出力サブシステムまたは IOPS に重点を置いています。 この記事では:

- IOPS に重点を置いた詳細とテスト結果を示します
- 独自の環境とハードウェアを使用してテストを再現する方法について説明します
- さまざまなディスク サイズの環境に応じた IOPS の要件を提案します 

## <a name="performance-test-methodology"></a>パフォーマンス テストの方法論

Configuration Manager はさまざまな独自の方法で展開できますが、サイズを検討する際は、いくつかの変数について理解することが重要です。 変数の 1 つは、インベントリ サイクルなどの "*機能の間隔*" です。 もう 1 つの変数は、システムによって参照または展開されるユーザー、ソフトウェア展開、またはその他の "*オブジェクト*" の数です。 パフォーマンス テストでは、これらの変数を "*負荷*" の一部として適用します。 この負荷によって、さまざまな規模の環境で実稼働展開を使用している企業のお客様にとって一般的な比率でオブジェクトが生成されます。

> [!NOTE] 
> お客様のテレメトリ データを使用すると、ほとんどのお客様にとって最も一般的なシナリオ、構成、設定を使用して現在のブランチ ビルドをテストできます。 この記事の推奨事項は、これらの平均値に基づいています。 実際のエクスペリエンスは、ご使用の環境のサイズと構成によって異なります。 一般に Configuration Manager のオブジェクトと間隔に関しては、常識が求められます。 システム上のすべてのファイルを収集することや、1 サイクルの間隔を 1 分に設定することができるからと言って、そうする必要があるのではありません。

以下のセクションでは、大規模企業の処理ニーズをテストおよびモデル化するときに使用する主な設定と構成について説明します。 これらのガイドラインは、推奨されるハードウェア サイズに応じた基本的なシステム パフォーマンスの期待値を設定するのに役立ちます。

### <a name="feature-intervals-settings"></a>機能の間隔の設定 
ほとんどのテストでは、システム内の主要サイクルに既定の間隔を使用する必要があります。 たとえば、ハードウェア インベントリのテストは、既定よりも大きい *.mof* ファイルを使用して週に 1 回行います。 繰り返される機能の間隔、特にハードウェアとソフトウェアのインベントリ サイクルは、環境のパフォーマンス特性に大きな影響を与える可能性があります。 既定の頻繁なデータ収集の間隔を有効にしている環境では、活動の増加に正比例して特大サイズのハードウェアが必要になります。 たとえば、25,000 台のデスクトップ クライアントがあり、ハードウェア インベントリを既定の間隔よりも 2 倍速く収集したいとします。 50,000 台のクライアントがある場合と同様にサイトのハードウェアのサイズ設定を始める必要があります。

### <a name="objects"></a>オブジェクト 
テストでは、大規模企業がシステムで使用する傾向があるオブジェクトの "*上位平均*" を使用する必要があります。 一般的な値は、数千のコレクションとアプリケーションが数十万のユーザーまたはシステムに対して展開されているというものです。 テストは、これらを上限としてシステム内の "*すべての*" オブジェクトに対して同時に実行する必要があります。 多くのお客様が複数の機能を利用しますが、通常は、製品のすべての機能をこれらの上限で使用するわけではありません。 製品のすべての機能についてテストすることで、システム全体で可能な最大のパフォーマンスを確実に得ることに役立ち、一部のお客様が平均を超えて使用する可能性のある機能のためのバッファーを確保することができます。 

### <a name="loads"></a>負荷 
テストは、システム上にピーク時の使用量の要求を生成するシミュレーションを実行することによって、標準的な "*1 日の平均*" 負荷よりも大きい負荷で実行する必要があります。 1 つの例として、火曜日に行うパッチのロールアウトをシミュレートし、最近の活動ピーク時にシステムから更新のコンプライアンス データを迅速に返せることを確認する場合があります。 別の例として、広範囲に渡るマルウェア集団感染中のサイト活動をシミュレートし、タイムリーな通知と応答が可能なことを確認する場合があります。 展開された推奨サイズのマシンは、いつでも過少使用される可能性がありますが、より極端な状況ではある程度の処理バッファーが必要です。

### <a name="configurations"></a>構成
サポートされているオペレーティングシステムと SQL Server のバージョンを組み合わせて、さまざまな物理ハードウェア、Hyper-V ハードウェア、Azure ハードウェアでテストを実行します。 サポートされている構成として最悪のケースを常に検証してください。 一般に、Hyper-V と Azure を同じように構成した場合、同等の物理ハードウェアと同等のパフォーマンス結果が返されます。 新しいサーバー オペレーティング システムは、サポートされている以前のオペレーティング システムと同等以上のパフォーマンスを示す傾向があります。 サポートされているプラットフォームはすべて最小要件を満たしていますが、通常、Windows や SQL などのサポート製品の最新バージョンでは、さらに優れたパフォーマンスが得られます。 

最大の違いは、使用している SQL Server のバージョンによるものです。 SQL Server のバージョンについて詳しくは、「[どのバージョンの SQL を実行する必要がありますか?](../../understand/site-size-performance-faq.md#what-version-of-sql-should-i-run)」を参照してください。 

## <a name="key-performance-determinants"></a>主要なパフォーマンスの決定要因

さまざまな設定、さまざまな方法、さまざまなサイト サイズで Configuration Manager のパフォーマンスをテストおよび測定できます。 パフォーマンスに大幅な影響を与える可能性がある設定とオブジェクトは以下のとおりです。 ご使用の環境においてパフォーマンスをテストおよび測定するときの考慮事項を以下に示します。

> [!CAUTION]
> Configuration Manager のいくつかの側面については、過度の使用を防ぐための公式の最大値やユーザー インターフェイス制限がありますが、ガイドラインを超えると、サイトのパフォーマンスに重大な悪影響を及ぼす可能性があります。 推奨レベルを超えたり、サイズ変更のガイダンスを無視したりすると、通常、より大規模なハードウェアが必要になり、さまざまなオブジェクトの頻度や数を減らさない限り、環境を維持できなくなることがあります。

### <a name="hardware-inventory"></a>ハードウェア インベントリ
ベースライン パフォーマンスをテストするには、既定の *.mof* ファイルのサイズと約 20% の追加プロパティを使用して、ハードウェア インベントリ収集を週 1 回に設定します。 すべてのプロパティを有効にすることはせず、実際に必要なプロパティだけを収集してください。 使用可能な仮想メモリなど、"*インベントリ サイクルごと*" に "*常に*" 変化するプロパティを収集するときは、特に注意してください。 これらのプロパティを収集すると、すべてのクライアントからのすべてのインベントリ サイクルに過度のチャーンが生じる可能性があります。

### <a name="software-inventory"></a>ソフトウェア インベントリ
ベースライン パフォーマンスをテストするには、ソフトウェア インベントリ収集を週 1 回に設定し、"*製品のみ*" の詳細を指定します。 多数のファイルを収集すると、インベントリ サブシステムに大きな負担がかかる可能性があります。 *\*.exe* や *\*.dll* のように、多数のクライアントにわたって何千ものファイルを収集する結果となる可能性があるフィルターを指定しないでください。

### <a name="collections"></a>コレクション
ベースライン パフォーマンス テストには、さまざまな範囲、サイズ、複雑さ、更新設定を持つ数千のコレクションを含めることができます。 サイトのパフォーマンスは、サイト上の膨大な数のコレクションの直接的な関数ではありません。 パフォーマンスは、コレクションのクエリの複雑さ、完全および増分の更新と変更の頻度、コレクション間の依存関係、コレクション内のクライアント数のクロス積でもあります。

可能であれば、高コストまたは複雑である動的な規則クエリを使用するコレクションを最小限に抑えます。 この種の規則が必要なコレクションの場合は、コレクションの再評価がシステムに与える影響を最小限に抑えるために、適切な更新間隔と更新回数を設定してください。 たとえば、午前 8:00 ではなく深夜に更新します。

コレクションの増分更新を有効にすると、コレクションのメンバーシップの迅速かつタイムリーな更新が確実になります。 しかし、増分更新は効率的ですが、それでもシステムに負荷がかかります。 予想される変更頻度と、メンバーシップに関するほぼリアルタイムの更新の必要性とのバランスを取ります。 たとえば、コレクション メンバーに大量のチャーンが予想されるが、リアルタイムに近いメンバーシップ更新は不要だとします。 増分更新を有効にするよりも、ある程度の間隔を置いて、スケジュールされた完全な更新によってコレクションを更新する方が効率的であり、システムの負荷が少なくなります。 

増分更新を有効にした場合は、同じコレクションに対するスケジュールされた完全な更新を減らします。 増分更新では、コレクションのメンバーシップをほぼリアルタイムで更新し続ける必要があるため、これらは評価のバックアップ方法にすぎません。 [コレクションのベスト プラクティス](../../clients/manage/collections/best-practices-for-collections.md#bkmk_incremental)では、増分更新の場合は最大回数のコレクションをお勧めしていますが、その記事で指摘しているように、実際のエクスペリエンスは多くの要因によって変わる可能性があります。

ダイレクト メンバーシップの規則だけを使用し、増分更新を実行しない限定コレクションを含むコレクションには、スケジュールされた完全な更新は必要ありません。 システムへの不要な負荷を防ぐために、これらの種類のコレクションについては、更新スケジュールを無効にしてください。 限定コレクションに増分更新を使用している場合、ダイレクト メンバーシップの規則だけを使用するコレクションには、最長 24 時間、またはスケジュールされた最新情報への更新が行われるまで、メンバーシップの更新が反映されない可能性があります。

ベスト プラクティスではないものの、組織によっては、さまざまなビジネス プロセスの一部として数百から数千ものコレクションを作成します。 オートメーションを使用してコレクションを作成する場合は、必要な増分更新を適切に有効にすることが重要です。 1 回の期間中にコレクション評価のホット スポットを回避するために、完全な更新のスケジュールを最短で分散されたものにします。 使用していないコレクション (特に、自動的に作成されたコレクションがしばらくして不要になった場合) を削除するための定期的なグルーミング プロセスを確立します。

展開などのタスクをターゲットにすると、Configuration Manager によってコレクション内のすべてのオブジェクトに対してポリシーが作成されることに留意してください。 スケジュールされた更新または増分更新でのメンバーシップの変更によって、システム全体に対して他の多くの作業が作成される可能性があります。 最新の Current Branch ビルドでは、"すべてのシステム" および "すべてのユーザー" コレクションに対して特別なポリシー最適化が行われます。 エンタープライズ全体をターゲットにする場合は、組み込みコレクション (これらの組み込みコレクションのクローンではなく) を使用してください。

コレクションのパフォーマンスをさらに詳しく調査するには、[Configuration Manager Toolkit](https://www.microsoft.com/download/details.aspx?id=50012) に含まれる Collection Evaluation Viewer (CEViewer) を使用できます。

### <a name="discovery-methods"></a>探索方法
ベースラインとなるパフォーマンスのテストでは、週に 1 回サーバーベースの探索方法を実行し、必要に応じて差分探索を有効にして、その週の間データを最新の状態に保ちます。 シミュレートされたエンタープライズのサイズに比例したオブジェクト数量をテストで検出する必要があります。 ハートビート探索のためのパフォーマンス ベースラインのテストも、週に 1 回実行する必要があります。

探索データは、グローバル データです。 一般的なパフォーマンス関連の問題は、階層内でのサーバーベースの探索方法を正しく構成しなかったことが原因で、複数のプライマリ サイトから同じリソースの探索が重複して行われることです。 複数のプライマリ サイトで同じ検出範囲が重複しないようにしながら、ターゲット サービス (Active Directory ドメイン コントローラーなど) とのやり取りを最適化するように、探索方法を慎重に構成します。

## <a name="general-sizing-guidelines"></a>一般的なサイジングのガイドライン 

上記の[パフォーマンス テストの方法論](#performance-test-methodology)に基づき、特定の数のマネージド クライアントに対する一般的な "*最小*" ハードウェア要件のガイドラインを次の表に示します。 これらの値を使用すると、指定された数のクライアントを持つほとんどのお客様が、指定されたサイトを管理するのに十分な速さでオブジェクトを処理できます。 コンピューティング能力は年々価格が下がり続けており、以下の要件の一部は最新のサーバー ハードウェア構成としては小さい方です。 以下のガイドラインを上回るハードウェアを使用すると、それに比例して、追加の処理能力が必要なサイト、または特別な製品使用パターンを持つサイトのパフォーマンスが向上します。 

| デスクトップ クライアント  | サイトの種類/役割  | コア<sup>1</sup>   | メモリ (GB)   | SQL メモリ割り当て  | IOPS: 受信トレイ<sup>2</sup>  | IOPS: SQL<sup>2</sup>   | 必要な記憶域 (GB)<sup>3</sup>   |
|------|-------------------------------------------------------------|-----|-----|-----|------|------|------|
| 25,000  | 同じサーバー上でデータベース サイトの役割を持つプライマリまたは CAS   | 6   | 24  | 65% | 600  | 1,700 | 350  |
| 25,000  | プライマリまたは CA                                              | 4   | 8   |     | 600  |      | 100  |
|      | リモート SQL                                                  | 4   | 16  | 70% |      | 1,700 | 250  |
|      |                                                             |     |     |     |      |      |      |
| 50,000  | 同じサーバー上でデータベース サイトの役割を持つプライマリまたは CAS   | 8   | 32  | 70% | 1,200 | 2,800 | 600  |
| 50,000  | プライマリまたは CA                                              | 4   | 8   |     | 1,200 |      | 200  |
|      | リモート SQL                                                  | 8   | 24  | 70% |      | 2,800 | 400  |
|      |                                                             |     |     |     |      |      |      |
| 100,000 | 同じサーバー上でデータベース サイトの役割を持つプライマリまたは CAS   | 12  | 64  | 70% | 1,200 | 5000 | 1,100 |
| 100,000 | プライマリまたは CA                                              | 6   | 12  |     | 1,200 |      | 300  |
|      | リモート SQL                                                  | 12  | 48  | 80% |      | 5000 | 800  |
|      |                                                             |     |     |     |      |      |      |
| 150,000 | 同じサーバー上でデータベース サイトの役割を持つプライマリまたは CAS   | 16  | 96  | 70% | 1,800 | 7,400 | 1,600 |
| 150,000 | プライマリまたは CA                                   | 8   | 16   |     | 1,800  |         | 400   |
|      | リモート SQL                                       | 16  | 72   | 90% |       | 7,400    | 1,200  |
|      |                                                             |     |     |     |      |      |      |
| 700,000 | 同じサーバー上でデータベース サイトの役割を持つ CAS   | 20+ | 128+ | 80% | 1,800+ | 9,000+   | 5,000+ |
| 700,000 | CAS                                              | 8+  | 16+  |     | 1,800+ |         | 500+  |
|      | リモート SQL                                       | 16+ | 96+  | 90% |       | 9,000+   | 4,500+ |
|      |                                                             |     |     |     |      |      |      |
| 5,000   | セカンダリ サイト                                   | 4   | 8    |     | 500   | -       | 200   |
| 15,000  | セカンダリ サイト                                   | 8   | 16   |     | 500   | -       | 300   |

**注**

1. **コア**:Configuration Manager では多数の同時プロセスが実行されるため、さまざまなサイトのサイズに対応する一定の最小数の CPU コアが必要です。 コアは年々高速化していますが、一定の最少数のコアを並列で確実に動作させることが重要です。 一般に、2015 年以降に製造されたサーバーレベルの CPU はすべて、表に示されているコアの基本的なパフォーマンス ニーズを満たしています。 Configuration Manager では推奨値を超える追加のコアを利用できますが、一般に、推奨される最小数のコアが得られたら、速度の遅いコアを追加するのではなく、既存のコアの速度を上げるために CPU リソースへの投資を優先する必要があります。 たとえば、ディスク IOPS のような十分な他のシステム リソースが利用可能であると仮定すると、24 個の低速コアよりも 16 個の高速コアを使用した方が、Configuration Manager による主要な処理タスクで優れたパフォーマンスが得られます。
   
   コアとメモリの関係も重要です。 一般に、1 コアあたり 3 から 4 GB 未満の RAM を使用すると、使用する SQL サーバーでの合計処理能力は低下します。 SQL がサイト サーバー コンポーネントと併置されている場合は、1 コアあたりに、より多くの RAM が必要です。
   
   > [!NOTE]
   > すべてのテストでは、最大の CPU 電力消費とパフォーマンスを可能にするようにマシン電源プランを設定します。
   
2. **IOPS: 受信トレイおよび IOPS: SQL** は、Configuration Manager と SQL の論理ドライブの IOPS ニーズを表します。 「**IOPS: 受信トレイ**」の列は、Configuration Manager の受信トレイ ディレクトリが存在する論理ドライブに必要な IOPS を示しています。 「**IOPS: SQL**」の列は、さまざまな SQL ファイルに使用する論理ドライブについての、IOPS の合計のニーズを示しています。 その 2 つのドライブはフォーマットが異なるため、これらの列は異なります。 推奨される SQL ディスク構成とファイルに関するベスト プラクティスの詳細および例 (複数ボリュームへのファイル分割の詳細など) については、「[サイトのサイジングとパフォーマンスに関する FAQ](../../understand/site-size-performance-faq.md)」を参照してください。
   
   これらの IOPS 列の両方で、業界標準のツールである *Diskspd* からのデータを使用しています。 これらの測定値を複製する手順については、「[ディスク パフォーマンスの測定方法](#how-to-measure-disk-performance)」を参照してください。 一般に、基本的な CPU とメモリの要件が満たされた後、サイトのパフォーマンスに最も大きな影響を与えるのはストレージ サブシステムであり、ここを改善すると投資に対する最大の利益が得られます。
   
3.  **必要な記憶域:** これらの実際の値は、ドキュメントに記載されているその他の推奨値と異なる場合があります。 これらの数値は、一般的なガイドラインとしてのみ提示するものであり、個々の要件は大幅に異なる可能性があります。 サイトをインストールする前にディスク領域のニーズについて慎重に検討します。 このストレージのある程度の容量が、ほとんどの場合に空きディスク領域として残っているとします。 このバッファー領域は、回復のシナリオや、セットアップ パッケージの展開用に空きディスク領域が必要なアップグレードのシナリオで使用できます。 ご自身のサイトで、大量のデータ収集、長期間のデータ保持、大量のソフトウェア配布コンテンツ用に追加ストレージが必要になる場合があります。 スループットの低い別のボリュームにこれらの項目を格納することもできます。

## <a name="how-to-measure-disk-performance"></a>ディスク パフォーマンスの測定方法 

業界標準のツールである *Diskspd*  を使用して、さまざまなサイズの Configuration Manager 環境に必要な IOPS に関する標準化された提案を提供できます。 以下のテスト手順とコマンド ラインは包括的なものではありませんが、サーバーのディスク サブシステムのスループットを見積もるためのシンプルで再現可能な方法を提供します。 ご自身の結果を、[一般的なサイジングのガイドライン](#general-sizing-guidelines)の表にある最小限の推奨 IOPS と比較することができます。 

ラボ環境でのさまざまなハードウェア構成からのテスト結果については、「[ディスク構成の例](#example-disk-configurations)」を参照してください。 新しい環境用のストレージ サブシステムを一から設計するときに、おおまかな出発点としてそのデータを使用できます。

### <a name="to-test-disk-iops"></a>ディスクの IOPS をテストするには  
1. *Diskspd* ユーティリティをここからダウンロードします: [https://gallery.technet.microsoft.com/DiskSpd-A-Robust-Storage-6ef84e62](https://gallery.technet.microsoft.com/DiskSpd-A-Robust-Storage-6ef84e62)
   
1. 少なくとも 100 GB の空きディスク領域があることを確認します。 ディレクトリ、SQL、SMSExec のアクティブなウイルス対策スキャンなど、ディスクへの干渉や余分な負荷を発生させる可能性のあるアプリを無効にします。
   
1. 管理者特権でのコマンド プロンプトから *Diskspd* を実行します。 
   
   テスト対象のボリュームに対して、ツールを 2 回連続して実行します。 最初のテストでは、64k のサイズのランダム書き込み操作を 1 分間実行します。 このテストでは、ボリュームが動的に拡張された場合に備えて、コントローラーのキャッシュの読み込みやディスク領域の割り当てを確認します。 最初のテストの結果を破棄します。 2 番目のテストは、最初のテストに続けて*すぐに*、同じ負荷で 5 分間実行する必要があります。
   
   たとえば、G:\\ ボリュームをテストするには、以下の特定のコマンド ラインを使用します。
   
   `DiskSpd.exe -r -w100 -t8 -o8 -b64K -c100G -d60 -h -L G:\\test\testfile.dat` 
   
   `del G:\\test\testfile.dat`
   
   `DiskSpd.exe -r -w100 -t8 -o8 -b64K -c100G -d300 -h -L G:\\test\testfile.dat`
   
1. 2 番目のテストの出力を確認し、 **[I/O per s]\(1 秒あたりの I/O\)** の列にある IOPS の合計を見つけます。 次の例では、IOPS の合計は **3929.18** です。

   ``` Output
   Total IO
   | thread |  bytes      |  I/Os   |  MB/s  | I/O per s | AvgLat | LatStdDev |
   |--------|-------------|---------|--------|-----------|--------|-----------|
   |   1    |  9651814400 |  147275 |  30.68 |    490.92 | 16.294 | 10.210    |
   |   2    |  9676652544 |  147654 |  30.76 |    492.18 | 16.252 |  9.998    |
   |   3    |  9638248448 |  147068 |  30.64 |    490.23 | 16.317 | 10.295    |
   |   4    |  9686089728 |  147798 |  30.79 |    492.66 | 16.236 | 10.072    |
   |   5    |  9590931456 |  146346 |  30.49 |    487.82 | 16.398 | 10.384    |
   |   6    |  9677242368 |  147663 |  30.76 |    492.21 | 16.251 | 10.067    |
   |   7    |  9637330944 |  147054 |  30.64 |    490.18 | 16.319 | 10.249    |
   |   8    |  9692577792 |  147897 |  30.81 |    492.99 | 16.225 | 10.125    |
   | Total: | 77250887680 | 1178755 | 245.57 |   3929.18 | 16.286 | 10.176    |
   ```

## <a name="example-disk-configurations"></a>ディスク構成の例

次の表は、「[ディスク パフォーマンスの測定方法](#how-to-measure-disk-performance)」にあるテスト手順をさまざまなテスト ラボ構成を使用して実行した結果を示しています。 新しい環境のストレージ サブシステムを一から設計するときに、"*おおまかな*" 出発点として、このデータを使用してください。 

### <a name="physical-machines-and-hyper-v"></a>物理マシンと Hyper-V 
ハードウェアは常に向上しています。 新しい世代のハードウェアと、SSD と SAN のようなさまざまなハードウェアを組み合わせることで、以下に示すパフォーマンスを超えることが期待されます。 これらの結果は、サーバーを設計するとき、またはハードウェア ベンダーと話し合うときに考慮する基本的な出発点です。

次の表は、さまざまなテスト ラボ構成での各種ディスク サブシステム (スピンドルおよび SSD ベースのハード ドライブなど) に対するテストの結果を示しています。 すべての構成において、64k クラスターを指定してディスクをフォーマットし、エンタープライズ クラスのディスク コントローラーに接続しています。 RAID アレイのディスク数に加えて、各ディスクに少なくとも 1 個のスペア ディスクがあります。

| ディスクの種類   | スペア ディスク (1 個以上) を含まないディスク数 | RAID     | 測定された IOPS  |
|------------------|----------------------------------------------------|---------------|---------------|
| 15k SAS          | 2                                                  |           1   | 620           |
| 15k SAS          | 4                                                  |           10  | 1206          |
| 15k SAS          | 6                                                  |           10  | 1751          |
| 15k SAS          | 8                                                  |           10  | 2322          |
| 15k SAS          | 10                                                 |           10  | 2882          |
| 15k SAS          | 12                                                 |           10  | 3476          |
| 15k SAS          | 16                                                 |           10  | 4236          |
| 15k SAS          | 20                                                 |           10  | 5148          |
| 15k SAS          | 30                                                 |           10  | 7398          |
| 15k SAS          | 40                                                 |           10  | 9913          |
| SSD SATA         | 2                                                  |           1   | 3300          |
| SSD SATA         | 4                                                  |           10  | 5542          |
| SSD SATA         | 6                                                  |           10  | 7201          |
| SSD SAS          | 2                                                  |           1   | 7539          |
| SSD SAS          | 4                                                  |           10  | 14346         |
| SSD SAS          | 6                                                  |           10  | 15607         |

これらは、例で使用されているデバイスです。 この情報は、特定のハードウェア モデルや製造元について推奨するものではありません。 

| ディスクの種類    | モデル      | RAID コントローラー | キャッシュ メモリと構成 |
|-------------------|-----------------|----------------------|-------------------------------------|
| 15k RPM SAS HD    | HP EH0300JDYTH  | Smart Array P822     | 2 GB、読み取り 20% / 書き込み 80%           |
| SSD SATA          | ATA MK0200GCTYV | Smart Array P420i    | 1 GB、読み取り 20% / 書き込み 80%           |
| SSD SAS           | HP MO0800 JEFPB | Smart Array P420i    | 1 GB、読み取り 20% / 書き込み 80%           |

### <a name="azure-machine-and-disk-performance"></a>Azure マシンとディスクのパフォーマンス 
Azure ディスクのパフォーマンスは、Azure VM のサイズ、使用するディスクの数と種類など、いくつかの要因によって異なります。 また、Azure には次の表とは異なる新しいコンピューターの種類およびディスク速度が常に追加されています。 Azure 上で実行されている Configuration Manager について、および Azure でのディスク I/O について詳しくは、「[Azure の Configuration Manager - よく寄せられる質問](../../understand/configuration-manager-on-azure.md)」を参照してください。

すべてのディスクは NTFS のクラスター サイズ 64k でフォーマットされており、複数のディスクを含む行は Windows ディスクの管理ユーティリティを使用してストライプ ボリュームとして構成されています。

| Azure 仮想マシン| Azure ディスク| ディスク数 | 使用可能な領域 | 測定された IOPS   | 限定要因   |
|--------------------------------------------|-------------------------|---------------------|---------------------------|-------|-----------------|
| **DS2/DS11**                              | P20                     | 1                   | 512 MB                    | 965   | Azure VM サイズ   |
| **DS2/DS11**                              | P20                     | 2                   | 1024 MB                   | 996   | Azure VM サイズ   |
| **DS2/DS11**                              | P30                     | 1                   | 1024 MB                   | 996   | Azure VM サイズ   |
| **DS2/DS11**                              | P30                     | 2                   | 2048 MB                   | 996   | Azure VM サイズ   |
| **DS3/DS12/F4S**                          | P20                     | 1                   | 512 MB                    | 1994  | Azure VM サイズ   |
| **DS3/DS12/F4S**                          | P20                     | 2                   | 1024 MB                   | 1992  | Azure VM サイズ   |
| **DS3/DS12/F4S**                          | P30                     | 1                   | 1024 MB                   | 1993  | Azure VM サイズ   |
| **DS3/DS12/F4S**                          | P30                     | 2                   | 2048 MB                   | 1992  | Azure VM サイズ   |
| **DS4/DS13/F8S**                          | P20                     | 1                   | 512 MB                    | 2334  | P20 ディスク        |
| **DS4/DS13/F8S**                          | P20                     | 2                   | 1024 MB                   | 3984  | Azure VM サイズ   |
| **DS4/DS13/F8S**                          | P20                     | 3                   | 1536 MB                   | 3984  | Azure VM サイズ   |
| **DS4/DS13/F8S**                          | P30                     | 1                   | 1024 MB                   | 3112  | P30 ディスク        |
| **DS4/DS13/F8S**                          | P30                     | 2                   | 2048 MB                   | 3984  | Azure VM サイズ   |
| **DS4/DS13/F8S**                          | P30                     | 3                   | 3072 MB                   | 3996  | Azure VM サイズ   |
| **DS5/DS14/F16S**                         | P20                     | 1                   | 512 MB                    | 2335  | P20 ディスク        |
| **DS5/DS14/F16S**                         | P20                     | 2                   | 1024 MB                   | 4639  | P20 ディスク        |
| **DS5/DS14/F16S**                         | P20                     | 3                   | 1536 MB                   | 6913  | P20 ディスク        |
| **DS5/DS14/F16S**                         | P20                     | 4                   | 2048 MB                   | 7966  | Azure VM サイズ   |
| **DS5/DS14/F16S**                         | P30                     | 1                   | 1024 MB                   | 3112  | P30 ディスク        |
| **DS5/DS14/F16S**                         | P30                     | 2                   | 2048 MB                   | 6182  | P30 ディスク        |
| **DS5/DS14/F16S**                         | P30                     | 3                   | 3072 MB                   | 7963  | Azure VM サイズ   |
| **DS5/DS14/F16S**                         | P30                     | 4                   | 4096 MB                   | 7968  | Azure VM サイズ   |
| **DS15**                                  | P30                     | 1                   | 1024 MB                   | 3113  | P30 ディスク        |
| **DS15**                                  | P30                     | 2                   | 2048 MB                   | 6184  | P30 ディスク        |
| **DS15**                                  | P30                     | 3                   | 3072 MB                   | 9225  | P30 ディスク        |
| **DS15**                                  | P30                     | 4                   | 4096 MB                   | 10200 | Azure VM サイズ   |

## <a name="see-also"></a>関連項目

- [サイトのサイジングとパフォーマンスに関する FAQ](../../understand/site-size-performance-faq.md)
- [Azure の Configuration Manager - よく寄せられる質問](../../understand/configuration-manager-on-azure.md)
- [サイジングとスケールの数値](size-and-scale-numbers.md)
- [推奨ハードウェア](recommended-hardware.md)

