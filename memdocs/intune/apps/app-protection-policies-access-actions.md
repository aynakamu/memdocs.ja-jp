---
title: アプリ保護ポリシーの条件付き起動アクションを使用してデータをワイプする
titleSuffix: Microsoft Intune
description: Microsoft Intune でアプリ保護ポリシーの条件付き起動アクションを使用してデータを選択的にワイプする方法について説明します。
keywords: ''
author: Erikre
ms.author: erikre
manager: dougeby
ms.date: 04/01/2020
ms.topic: how-to
ms.service: microsoft-intune
ms.subservice: apps
ms.localizationpriority: high
ms.technology: ''
ms.assetid: f5ca557e-a8e1-4720-b06e-837c4f0bc3ca
ms.reviewer: aanavath
ms.suite: ems
search.appverid: MET150
ms.custom: seodec18
ms.collection: M365-identity-device-management
ms.openlocfilehash: 8a1a16b21ea13014227994d9c9573a2098f7662a
ms.sourcegitcommit: 302556d3b03f1a4eb9a5a9ce6138b8119d901575
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/27/2020
ms.locfileid: "83990480"
---
# <a name="selectively-wipe-data-using-app-protection-policy-conditional-launch-actions-in-intune"></a>Intune でアプリ保護ポリシーの条件付き起動アクションを使用してデータを選択的にワイプする

Intune のアプリ保護ポリシーを利用することで、エンド ユーザーが企業のアプリやアカウントにアクセスできないように設定できます。 このような設定の対象となるのは、脱獄 (改造) デバイスや最小 OS バージョンなどに関して組織が定めた、データの再配置とアクセスに関する要件です。
 
このような設定を利用して非準拠行為に対して講じられる措置として会社の企業データをワイプすることを明示的に選択できます。 一部の設定については、さまざまな指定値に基づくアクセスの禁止とデータのワイプなど、複数のアクションを設定できます。

## <a name="create-an-app-protection-policy-using-conditional-launch-actions"></a>条件付き起動アクションを使用してアプリ保護ポリシーを作成する

1. [Microsoft Endpoint Manager 管理センター](https://go.microsoft.com/fwlink/?linkid=2109431)にサインインします。
2. **[アプリ]**  >  **[アプリ保護ポリシー]** を選択します。
3. **[ポリシーの作成]** をクリックし、ポリシー用のデバイスのプラットフォームを選択します。 
4. **[必要な設定の構成]** をクリックし、ポリシーに構成できる設定の一覧を表示します。 
5. [設定] ウィンドウで下にスクロールすると、 **[条件付き起動]** というタイトルのセクションと編集可能なテーブルが表示されます。

    ![Intune アプリ保護アクセス アクションのスクリーンショット](./media/app-protection-policies-access-actions/apps-selective-wipe-access-actions01.png)

6. **[設定]** を選択し、会社のアプリにサインインする際、一致しなければならない**値**を入力します。 
7. ユーザーが要件を満たさない場合に講じる**アクション**を選択します。 場合によっては、1 つの設定で複数のアクションを設定できます。 詳細については、「[アプリ保護ポリシーを作成して割り当てる方法](app-protection-policies.md)」を参照してください。

## <a name="policy-settings"></a>ポリシー設定 

アプリ保護ポリシーの設定テーブルには、 **[設定]** 、 **[値]** 、 **[アクション]** の列があります。

### <a name="ios-policy-settings"></a>iOS ポリシー設定
iOS/iPadOS の場合、 **[設定]** ドロップダウンを利用して次の設定のアクションを構成できます。
- [PIN の最大試行回数]
- [オフラインの猶予期間]
- [脱獄またはルート化されたデバイス]
- [OS の最小バージョン]
- [アプリの最小バージョン]
- [SDK の最小バージョン]
- [デバイス モデル]
- 許容される最大デバイス脅威レベル

**[デバイス モデル]** 設定を使用するには、iOS/iPadOS モデル識別子の一覧をセミコロンで区切って入力します。 これらの値では大文字と小文字が区別されません。 [デバイス モデル] 入力に関する Intune からの報告に加え、こちらの[サード パーティの GitHub リポジトリ](https://gist.github.com/adamawolf/3048717)で、iOS/iPadOS モデル識別子を見つけることができます。<br>
入力例: *iPhone5,2;iPhone5,3*

エンド ユーザー デバイスの Intune クライアントは、アプリケーション保護ポリシーに対して Intune で指定されている、デバイス モデルの文字列の単純一致に基づいてアクションを実行します。 一致は、デバイスの報告に完全に依存します。 ユーザー (IT 管理者) は、動作が意図したものであるか確認することを推奨されます。それには、さまざまなデバイスの製造元とモデルをベースとし、小規模なユーザー グループを対象として、この設定をテストします。 既定値は **[未構成]** です。<br>
次の操作のいずれかを選択します。 
- 指定されたものを許可 (未指定でブロック)
- 指定されたものを許可 (未指定でワイプ)

**IT 管理者が、同じ Intune ユーザーの同じアプリを対象とするポリシー間で、異なる iOS/iPadOS モデル識別子の一覧を入力した場合、どうなりますか。**<br>
構成値に対して 2 つのアプリ保護ポリシーの間に競合が発生した場合、Intune では通常、最も制限の厳しいアプローチが取られます。 したがって、対象の Intune ユーザーが開いている対象のアプリに対して送信されるポリシーの結果は、同じアプリ/ユーザーの組み合わせを対象とする、"*ポリシー A*" と "*ポリシー B*" の iOS/iPadOS モデル識別子のリストの積集合となります。 たとえば、"*ポリシー A*" が "iPhone5,2;iPhone5,3" を指定し、"*ポリシー B*" が "iPhone5,3" を指定している場合、"*ポリシー A*" と "*ポリシー B*" 両方の対象である Intune ユーザーのポリシーの結果は "iPhone5,3" となります。 

### <a name="android-policy-settings"></a>Android のポリシーの設定

Android の場合、 **[設定]** ドロップダウンを利用して次の設定のアクションを構成できます。
- [PIN の最大試行回数]
- [オフラインの猶予期間]
- [脱獄またはルート化されたデバイス]
- [OS の最小バージョン]
- [アプリの最小バージョン]
- [パッチの最小バージョン]
- [デバイスの製造元]
- [SafetyNet デバイスの構成証明]
- アプリの脅威のスキャンが必要
- ポータル サイトの最小バージョン
- 許容される最大デバイス脅威レベル

**[ポータル サイトの最小バージョン]** を使用することにより、エンド ユーザーのデバイスに適用される、ポータル サイトの特定の定義済み最小バージョンを指定できます。 この条件付き起動の設定を使用すると、 **[アクセスのブロック]** 、 **[データのワイプ]** 、 **[警告]** に対して、各値が満たされなかった場合の実行可能なアクションとして値を設定できます。 この値に使用できる形式は、" *[メジャー].[マイナー]* "、" *[メジャー].[マイナー].[ビルド]* "、または " *[メジャー].[マイナー].[ビルド].[リビジョン]* " というパターンに従います。 一部のエンド ユーザーが、アプリをその場で強制的に更新されることを好まない場合は、この設定を構成するときに、[警告] オプションが最適となる場合があります。 Google Play ストアには、アプリの更新に対して差分バイトのみを送信する優れた機能が備わっていますが、これが更新時のデータに含まれる場合は、やはり、ユーザーが利用したいと思わないような大量のデータになる場合があります。 更新が強制され、その結果更新されたアプリがダウンロードされると、更新時に予期しないデータ料金が発生する可能性があります。 **[ポータル サイトの最小バージョン]** 設定を構成した場合、バージョン 5.0.4560.0 のポータル サイトおよび今後のバージョンのポータル サイトを取得したすべてのエンド ユーザーに影響があります。 この設定は、この機能がリリースされたバージョンより古いバージョンのポータル サイトを使用しているユーザーには影響しません。 デバイス上でアプリの自動更新を使用しているエンド ユーザーは、おそらく最新バージョンのポータル サイトを使用しているため、この機能のダイアログが表示されない可能性があります。 この設定は、登録済みのデバイスと未登録のデバイスのアプリ保護と共に、Android に対してのみ使用できます。

**[デバイスの製造元]** 設定を使用するには、Android の製造元の一覧をセミコロンで区切って入力します。 これらの値では大文字と小文字が区別されません。 Intune からの報告に加え、デバイスの Android の製造元は、デバイスの設定で確認できます。 <br>
入力例:*Manufacturer A;Manufacturer B* 

>[!NOTE]
> これらは、Intune を使用してデバイスから報告される一般的な製造元であり、次のような入力を使用できます:Asus;Blackberry;Bq;Gionee;Google;Hmd global;Htc;Huawei;Infinix;Kyocera;Lemobile;Lenovo;Lge;Motorola;Oneplus;Oppo;Samsung;Sharp;Sony;Tecno;Vivo;Vodafone;Xiaomi;Zte;Zuk

エンド ユーザー デバイスの Intune クライアントは、アプリケーション保護ポリシーに対して Intune で指定されている、デバイス モデルの文字列の単純一致に基づいてアクションを実行します。 一致は、デバイスの報告に完全に依存します。 ユーザー (IT 管理者) は、動作が意図したものであるか確認することを推奨されます。それには、さまざまなデバイスの製造元とモデルをベースとし、小規模なユーザー グループを対象として、この設定をテストします。 既定値は **[未構成]** です。<br>
次の操作のいずれかを選択します。 
- 指定されたものを許可 (未指定でブロック)
- 指定されたものを許可 (未指定でワイプ)

**IT 管理者が、同じ Intune ユーザーの同じアプリを対象とするポリシー間で、異なる Android 製造元の一覧を入力した場合、どうなりますか。**<br>
構成値に対して 2 つのアプリ保護ポリシーの間に競合が発生した場合、Intune では通常、最も制限の厳しいアプローチが取られます。 したがって、対象の Intune ユーザーが開いている対象のアプリに対して送信されるポリシーの結果は、同じアプリ/ユーザーの組み合わせを対象とする、"*ポリシー A*" と "*ポリシー B*" の Android 製造元のリストの積集合となります。 たとえば、"*ポリシー A*" が "Google;Samsung" を指定し、"*ポリシー B*" が "Google" を指定している場合、"*ポリシー A*" と "*ポリシー B*" 両方の対象である Intune ユーザーのポリシーの結果は "Google" となります。 

### <a name="additional-settings-and-actions"></a>追加の設定とアクション 

既定では、 **[アクセスのために PIN を要求する]** 設定が **[はい]** に設定されている場合、 **[オフラインの猶予期間]** と **[PIN の最大試行回数]** に構成されている設定の行がテーブルに表示され、データが既に入力されています。
 
設定を構成するには、 **[設定]** 列の下にあるドロップダウンから設定を選択します。 設定が選択されると、値の設定が必須になっている場合、同じ行の **[値]** 列の下でテキスト ボックスが編集可能になります。 また、 **[アクション]** の下でドロップダウンが有効になり、設定に適用される、条件に基づいて始動する一連のアクションを選択できます。 

次の一覧は、一般的なアクションをまとめたものです。
- **[アクセス禁止]** – エンド ユーザーが企業アプリにアクセスすることを禁止します。
- **[データをワイプします]** – エンド ユーザーのデバイスから企業データをワイプします。
- **[警告]** – 警告メッセージとしてダイアログをエンド ユーザーに表示します。

**[OS の最小バージョン]** 設定など、場合によっては、バージョン番号によっては該当するアクションをすべて実行するように設定を構成できます。 

![アプリ保護アクセス アクションのスクリーンショット - OS の最小バージョン](./media/app-protection-policies-access-actions/apps-selective-wipe-access-actions05.png)

設定がすべて構成されると、読み取り専用ビューで行が表示されますが、これはいつでも編集できます。 また、行にはドロップダウンがあり、 **[設定]** 列で選択できように見えます。 既に構成されており、複数のアクションを許可しない設定はドロップダウンで選択できません。

## <a name="next-steps"></a>次のステップ

Intune アプリ保護ポリシーの詳細については、次を参照してください。
- [アプリ保護ポリシーを作成して割り当てる方法](app-protection-policies.md)
- [iOS/iPadOS のアプリ保護ポリシーの設定](app-protection-policy-settings-ios.md)
- [Microsoft Intune の Android アプリ保護ポリシー設定](app-protection-policy-settings-android.md) 
