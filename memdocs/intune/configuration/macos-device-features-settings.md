---
title: Microsoft Intune の macOS デバイスの機能設定 - Azure | Microsoft Docs
description: Microsoft Intune で AirPrint 用の macOS デバイスを構成し、電源ボタンを表示または非表示にするようログイン ウィンドウをカスタマイズするための設定について説明します。 ネットワーク内の AirPrint サーバーの IP アドレス、パス、およびポート設定を取得する手順について説明します。 デバイス構成プロファイルでこれらの設定を使用して、macOS デバイスを構成します。
keywords: ''
author: MandiOhlinger
ms.author: mandia
manager: dougeby
ms.date: 08/27/2020
ms.topic: reference
ms.service: microsoft-intune
ms.subservice: configuration
ms.localizationpriority: medium
ms.technology: ''
ms.reviewer: kakyker; annovich
ms.suite: ems
search.appverid: ''
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: e70952b0d90222bd31a4e9df997d70e9d528ef24
ms.sourcegitcommit: 94e86320b9340507becc9e6ce4b6eb744f09fcd8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/31/2020
ms.locfileid: "89194200"
---
# <a name="macos-device-feature-settings-in-intune"></a>Intune での macOS デバイスの機能設定

Intune には、macOS デバイスで機能をカスタマイズするための組み込みの設定があります。 たとえば、管理者は AirPrint プリンターの追加、ユーザーのサインイン方法の選択、電源制御の構成、シングル サインオン認証の使用などの操作を行うことができます。

これらの機能を使用して、macOS デバイスをご利用のモバイル デバイス管理 (MDM) ソリューションの一部として制御します。

この記事では、このような設定を一覧で示し、各設定の機能について説明します。 また、ターミナル アプリ (エミュレーター) を使って AirPrint プリンターの IP アドレス、パス、ポートを取得する手順についても説明します。 デバイスの機能の詳細については、[iOS および iPadOS デバイスまたは macOS デバイスの機能設定の追加](device-features-configure.md)に関する記事を参照してください。

> [!NOTE]
> この記事では、ユーザー インターフェイスが登録の種類と一致しない場合があります。 この記事の情報は正しいものです。 ユーザー インターフェイスは、今後のリリースで更新されます。

## <a name="before-you-begin"></a>始める前に

[macOS デバイス機能プロファイルを作成します](device-features-configure.md)。

> [!NOTE]
> これらの設定はさまざまな登録の種類に適用され、一部の設定はすべての登録オプションに適用されます。 さまざまな登録の種類の詳細については、[macOS の登録](../enrollment/macos-enroll.md)に関する記事を参照してください。

## <a name="airprint"></a>AirPrint

### <a name="settings-apply-to-all-enrollment-types"></a>これらの設定は次に適用されます。すべての登録の種類

- **AirPrint の宛先**: ユーザーが自分のデバイスから印刷できる 1 台または複数台の AirPrint プリンターを**追加**します。 次の項目も入力します。
  - **ポート** (iOS 11.0 以降、iPadOS 13.0 以降):AirPrint の接続先のリスニング ポートを入力します。 このプロパティを空白のままにすると、AirPrint には既定のポートが使用されます。
  - **[IP アドレス]** :プリンターの IPv4 アドレスまたは IPv6 アドレスを入力します。 たとえば、「`10.0.0.1`」と入力します。 ホスト名を使用してプリンターを識別している場合は、ターミナル アプリでプリンターに ping を実行することで IP アドレスを取得できます。 詳細については、「[IP アドレスとパスを取得する](#get-the-ip-address-and-path)」 (この記事内) を参照してください。
  - **パス**:プリンターのリソースパスを入力します。 通常、このパスはネットワーク上のプリンターの `ipp/print` です。 詳細については、「[IP アドレスとパスを取得する](#get-the-ip-address-and-path)」 (この記事内) を参照してください。
  - **TLS** (iOS 11.0 以降、iPadOS 13.0 以降):次のようなオプションがあります。
    - **[いいえ]** (既定値): AirPrint プリンターに接続する場合、トランスポート層セキュリティ (TLS) は適用されません。
    - **Yes**:トランスポート層セキュリティ (TLS) での AirPrint 接続をセキュリティで保護します。

- AirPrint プリンターの一覧を含むコンマ区切りファイル (.csv) を **インポート**します。 また、Intune に AirPrint プリンターを追加した後、この一覧を **[エクスポート]** することもできます。

### <a name="get-the-ip-address-and-path"></a>IP アドレスとパスを取得する

AirPrinter サーバーを追加するには、プリンターの IP アドレス、リソース パス、およびポートが必要です。 この情報を取得する手順は次のとおりです。

1. AirPrint プリンターと同じローカル ネットワーク (サブネット) に接続している Mac 上で、( **/アプリケーション/ユーティリティ**から) **ターミナル**を開きます。
2. ターミナル アプリで「`ippfind`」と入力し、Enter キーを押します。

    プリンター情報をメモします。 たとえば、`ipp://myprinter.local.:631/ipp/port1` のような内容が返されます。 最初の部分はプリンターの名前です。 最後の部分 (`ipp/port1`) はリソース パスです。

3. ターミナルで「`ping myprinter.local`」と入力し、Enter キーを押します。

   IP アドレスをメモします。 たとえば、`PING myprinter.local (10.50.25.21)` のような内容が返されます。

4. この IP アドレスとリソース パスの値を使用します。 この例では、IP アドレスは `10.50.25.21`、リソース パスは `/ipp/port1` です。

## <a name="associated-domains"></a>関連付けられたドメイン

Intune では、次のことができます。

- 多数のアプリからドメインへの関連付けを追加します。
- 複数のドメインを同じアプリに関連付けます。

この機能は、以下に適用されます。

- macOS 10.15 以降

### <a name="settings-apply-to-user-approved-device-enrollment-and-automated-device-enrollment"></a>これらの設定は次に適用されます。ユーザーが承認したデバイス登録と、自動化されたデバイス登録

- **関連付けられたドメイン**: ご利用のドメインと任意のアプリの関連付けを**追加**します。 この機能では、Contoso アプリと Contoso Web サイト間のサインオン資格情報が共有されます。 次の項目も入力します。

  - **[アプリ ID]** : Web サイトに関連付けるアプリのアプリ識別子を入力します。 アプリ ID には、チーム ID とバンドル ID (`TeamID.BundleID`) が含まれます。

    チーム ID は、アプリ開発者向けに Apple によって生成される `ABCDE12345` などの 10 文字の英数字 (文字と数字) の文字列です。 詳細については、「[チーム ID を確認する](https://help.apple.com/developer-account/#/dev55c3c710c) 」(Apple の Web サイトが開きます) を参照してください。

    バンドル ID によってアプリは一意に識別されます。また、通常の書式は逆ドメイン名表記です。 たとえば、Finder のバンドル ID は `com.apple.finder` です。 バンドル ID を確認するには、ターミナルで AppleScript を使用します。

    `osascript -e 'id of app "ExampleApp"'`

  - **ドメイン**: アプリに関連付ける Web サイト ドメインを入力します。 ドメインには、サービスの種類と完全修飾ホスト名 (`webcredentials:www.contoso.com`など) が含まれています。

    ドメインの先頭の前に `*.` (アスタリスクのワイルドカードとピリオド) を入力することで、関連付けられているすべてのドメインのサブドメインと一致させることができます。 ピリオドは必須です。 正確なドメインは、ワイルドカードのドメインよりも優先度が高くなります。 そのため、完全修飾サブドメインで一致が見つからない "*場合*" に、親ドメインのパターンが照合されます。

    サービスの種類は次のとおりです。

    - **authsrv**:シングル サインオン アプリの拡張機能
    - **applink**: ユニバーサル リンク
    - **webcredentials**: パスワードのオートコンプリート

> [!TIP]
> トラブルシューティングを行うには、macOS デバイスで **[システム環境設定]**  >  **[プロファイル]** を開きます。 作成したプロファイルがデバイス プロファイル一覧に表示されることを確認します。 一覧に表示される場合は、 **[Associated Domains Configuration]\(関連付けられたドメイン構成\)** がプロファイルにあり、正しいアプリ ID とドメインが含まれていることを確認します。

## <a name="content-caching"></a>コンテンツ キャッシング

コンテンツ キャッシングにより、コンテンツのローカル コピーが保存されます。 この情報は、インターネットに接続しなくても、他の Apple デバイスで取得できます。 このキャッシングによって、ソフトウェア更新プログラム、アプリ、写真、その他のコンテンツを最初にダウンロードしたときに保存することで、ダウンロードが高速化されます。 アプリは 1 回ダウンロードされて他のデバイスと共有されるため、多数のデバイスを使用している学校や組織では帯域幅の節約になります。

> [!NOTE]
> これらの設定には、プロファイルを 1 つだけ使用してください。 これらの設定で複数のプロファイルを割り当てると、エラーが発生します。
>
> コンテンツ キャッシングの監視の詳細については、「[Mac でコンテンツキャッシュのログと統計情報を表示する](https://support.apple.com/guide/mac-help/view-content-caching-logs-statistics-mac-mchl0d8533cd/10.15/mac/10.15)」 (Apple の Web サイトが開きます) を参照してください。

この機能は、以下に適用されます。

- macOS 10.13.4 以降

### <a name="settings-apply-to-all-enrollment-types"></a>これらの設定は次に適用されます。すべての登録の種類

これらの設定の詳細については、「[コンテンツ・キャッシュ・ペイロードの設定](https://support.apple.com/guide/mdm/content-caching-mdm163612d39/1/web/1)」 (Apple の Web サイトが開きます) を参照してください。

**[コンテンツ キャッシングを有効にする]** : **[はい]** にすると、コンテンツ キャッシングがオンになり、ユーザーが無効にすることはできません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS によってオフにされる可能性があります。

- **[キャッシュするコンテンツの種類]** : 次のようなオプションがあります。
  - **[すべてのコンテンツ]** : iCloud コンテンツと共有コンテンツをキャッシュします。
  - **[ユーザー コンテンツのみ]** : ユーザーの iCloud コンテンツ (写真やドキュメントなど) をキャッシュします。
  - **[Shared content only]\(共有コンテンツのみ\)** : アプリとソフトウェア更新プログラムをキャッシュします。

- **[最大キャッシュ サイズ]** : コンテンツをキャッシュするために使用されるディスク領域の最大容量 (バイト単位) を入力します。 空白のまま (既定) にすると、この設定は Intune で変更または更新されません。 既定では、この値が OS によってゼロ (`0`) バイトに設定されることがあります。それにより、キャッシュに無制限のディスク領域が確保されます。

  デバイスで使用可能な領域を超えていないことを確認してください。 デバイスのストレージ容量の詳細については、「[iOS および macOS でのストレージ容量の表示方法](https://support.apple.com/HT201402)」 (Apple の Web サイトが開きます) を参照してください。

- **[キャッシュの場所]** : キャッシュされたコンテンツを保存するパスを入力します。 既定の場所は `/Library/Application Support/Apple/AssetCache/Data` です。 この場所は変更しないことをお勧めします。

  この設定を変更した場合、キャッシュされたコンテンツは新しい場所に移動されません。 自動的に移動するには、ユーザーがデバイス上の場所を変更する必要があります ( **[システム環境設定]**  >  **[共有]**  >  **[コンテンツ キャッシング]** )。

- **[ポート]** :デバイスでダウンロードおよびアップロードの要求を受け入れるために、0 から 65535 までの TCP ポート番号を入力します。 使用可能な任意のポートを使用するには、ゼロ (`0`) (既定) を入力します。
- **[Block internet connection and cache content sharing]\(インターネット接続とキャッシュ コンテンツの共有をブロックする\)** :テザリング キャッシュとも呼ばれます。 **[はい]** にすると、Mac に USB で接続された iOS/iPadOS デバイスとの間で、インターネット接続を共有できず、キャッシュされたコンテンツを共有できません。 ユーザーはこの機能を有効にできません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。

- **[Enable internet connection sharing]\(インターネット接続の共有を有効にする\)** : テザリング キャッシュとも呼ばれます。 **[はい]** にすると、Mac に USB で接続された iOS/iPadOS デバイスとの間で、インターネット接続を共有でき、キャッシュされたコンテンツを共有できます。 ユーザーはこの機能を無効にできません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、これは OS によってオフにされる可能性があります。

  この機能は、以下に適用されます。

  - macOS 10.15.4 以降

- **[キャッシュを有効にしてクライアントの詳細をログに記録する]** : **[はい]** にすると、コンテンツを要求したデバイスの IP アドレスとポート番号がログに記録されます。 デバイスの問題のトラブルシューティングを行う場合は、このログ ファイルが役に立ちます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、この情報が OS によってログに記録されない可能性があります。

- **[システムで他のアプリのためにディスク領域が必要な場合でも、常にキャッシュからのコンテンツを保持する]** : **[はい]** にすると、ディスク領域が少ない場合でも、キャッシュ コンテンツを保持し、何も削除されないようにします。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、他のアプリ用の記憶域スペースが必要な場合、OS によってキャッシュからコンテンツが自動的に削除されることがあります。

  この機能は、以下に適用されます。

  - macOS 10.15 以降

- **[Show status alerts]\(ステータス通知を表示する\)** : **[はい]** にすると、アラートがシステム通知として表示されます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、これらのアラートが OS によってシステム通知として表示されない場合があります。

  この機能は、以下に適用されます。

  - macOS 10.15 以降

- **[Prevent the device from sleeping while caching is turned on]\(キャッシュがオンになっている間はデバイスをスリープさせないようにする\)** : **[はい]** にすると、キャッシュがオンのときにコンピューターがスリープ状態にならないようにします。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、デバイスのスリープが OS で許可される場合があります。

  この機能は、以下に適用されます。

  - macOS 10.15 以降

- **[Devices to cache]\(キャッシュの対象デバイス\)** : コンテンツをキャッシュできるデバイスを選択します。 次のようなオプションがあります。
  - **[未構成]** (既定値):Intune では、この設定は変更または更新されません。 
  - **[同じローカル ネットワークを使用するデバイス]** : コンテンツ キャッシュから、直近の同じローカル ネットワーク上のデバイスにコンテンツを提供します。 コンテンツ キャッシュからアクセスできるデバイスを含め、他のネットワーク上のデバイスにはコンテンツが提供されません。
  - **[同じパブリック IP アドレスを使用するデバイス]** : コンテンツ キャッシュから、同じパブリック IP アドレスを使用するデバイスにコンテンツを提供します。 コンテンツ キャッシュからアクセスできるデバイスを含め、他のネットワーク上のデバイスにはコンテンツが提供されません。
  - **[カスタム ローカル ネットワークを使用するデバイス]** : コンテンツ キャッシュから、入力した IP 範囲内のデバイスにコンテンツを提供します。
    - **[クライアントのリッスン範囲]** : コンテンツ キャッシュを受け取ることができる IP アドレスの範囲を入力します。
  - **[カスタム ローカル ネットワークを使用するデバイス (フォールバックあり)]** : コンテンツ キャッシュから、リッスン範囲、ピア リッスン範囲、親 IP アドレスのデバイスにコンテンツを提供します。
    - **[クライアントのリッスン範囲]** : コンテンツ キャッシュを受け取ることができる IP アドレスの範囲を入力します。

- **[カスタム パブリック IP アドレス]** : パブリック IP アドレスの範囲を入力します。 クラウド サーバーは、この範囲を使用してキャッシュ対象のクライアント デバイスを照合します。

- **[コンテンツを他のキャッシュと共有する]** : ネットワークに複数のコンテンツ キャッシュがある場合、他のデバイス上のコンテンツ キャッシュは自動的にピアになります。 これらのデバイスは、キャッシュされたソフトウェアを参照して共有できます。 

  要求された項目が 1 つのコンテンツ キャッシュにない場合は、その項目についてピアをチェックします。 項目があった場合は、ピア デバイス上のコンテンツ キャッシュからダウンロードされます。 それでもない場合、以下からコンテンツ キャッシュに項目がダウンロードされます。

  - 親 IP アドレス (構成されている場合)
  
    または、
    
  - インターネットを経由して Apple から

  複数のコンテンツ キャッシュが使用できる場合、デバイスによって適切なコンテンツ キャッシュが自動的に選択されます。 

  次のようなオプションがあります。

  - **[未構成]** (既定値):Intune では、この設定は変更または更新されません。
  - **[同じローカル ネットワークを使用するコンテンツ キャッシュ]** : コンテンツ キャッシュは、直近の同じローカル ネットワーク上にある他のコンテンツ キャッシュのみとピアになります。
  - **[同じパブリック IP アドレスを使用するコンテンツ キャッシュ]** : コンテンツ キャッシュは、同じパブリック IP アドレスにある他のコンテンツ キャッシュとのみピアになります。
  - **[カスタム ローカル ネットワークを使用するコンテンツ キャッシュ]** : コンテンツ キャッシュは、入力した IP アドレス リッスン範囲内にある他のコンテンツ キャッシュとのみピアになります。

    - **[ピア リッスン範囲]** : 範囲を表す IPv4 または IPv6 の開始 IP および終了 IP アドレスを入力します。 入力した IP アドレス範囲内にあるコンテンツ キャッシュからのピア キャッシュ要求に対してのみ、コンテンツ キャッシュによる応答が行われます。
    - **[ピアのフィルター範囲]** : 範囲を表す IPv4 または IPv6 の開始 IP および終了 IP アドレスを入力します。 コンテンツ キャッシュは、入力された IP アドレス範囲を使用してピアのリストをフィルター処理します。

- **[Parent IP addresses]\(親 IP アドレス\)** : 親キャッシュとして追加する別のコンテンツ キャッシュのローカル IP アドレスを入力します。 このキャッシュから Apple で直接アップロードまたはダウンロードするのではなく、これらのキャッシュにコンテンツをアップロードおよびダウンロードします。 親 IP アドレスは 1 回だけ追加します。
- **[Parent selection policy]\(親選択ポリシー\)** : 親キャッシュが多数ある場合は、親 IP アドレスを選択する方法を選びます。 次のようなオプションがあります。
  - **[未構成]** (既定値):Intune では、この設定は変更または更新されません。
  - **[ラウンド ロビン]** : 親 IP アドレスを順番に使用します。 このオプションは、負荷分散のシナリオに適しています。
  - **[First available]\(利用可能な最初の項目\)** : 一覧で使用可能な最初の IP アドレスを常に使用します。
  - **[ハッシュ]** : 要求された URL のパス部分のハッシュ値を作成します。 このオプションにより、同じ URL で常に同じ親 IP アドレスが使用されるようにします。
  - **[ランダム]** : 一覧にある IP アドレスをランダムに使用します。 このオプションは、負荷分散のシナリオに適しています。
  - **[Sticky available]\(利用可能なスティッキー\)** : 一覧にある最初の IP アドレスを常に使用します。 それが使用できない場合は、一覧で 2 番目の IP アドレスを使用します。 2 番目の IP アドレスを利用できなくなるまで使用します (以降同様)。

## <a name="login-items"></a>ログイン項目

### <a name="settings-apply-to-all-enrollment-types"></a>これらの設定は次に適用されます。すべての登録の種類

- **ログイン時に起動するファイル、フォルダー、カスタム アプリの追加**: ユーザーがデバイスにサインインするときに開くファイル、フォルダー、カスタム アプリ、またはシステム アプリのパスを**追加**します。 次の項目も入力します。

  - **項目のパス**: ファイル、フォルダー、またはアプリへのパスを入力します。 組織用にビルドまたはカスタマイズされたシステム アプリやアプリは、通常 `Applications` フォルダーにあり、`/Applications/AppName.app` のようなパスになります。

    多くのファイル、フォルダー、アプリを追加できます。 たとえば、次のように入力します。  
  
    - `/Applications/Calculator.app`
    - `/Applications`
    - `/Applications/Microsoft Office/root/Office16/winword.exe`
    - `/Users/UserName/music/itunes.app`
  
    アプリ、フォルダー、またはファイルを追加するときは、正しいパスを入力してください。 `Applications` フォルダーにすべての項目が含まれているわけではありません。 ユーザーがある場所から別の場所に項目を移動すると、パスは変わります。 この移動した項目は、ユーザーがサインインしても開かれません。

  - **[非表示にする]** : アプリを表示または非表示にします。 次のようなオプションがあります。
    - **[未構成]** (既定値):Intune では、この設定は変更または更新されません。 既定では、OS によって、[非表示にする] オプションがオフにされた状態で、ユーザーとグループのログイン項目の一覧が表示される場合があります。
    - **Yes**: ユーザーとグループのログイン項目の一覧のアプリが非表示になります。

## <a name="login-window"></a>ログイン ウィンドウ

### <a name="settings-apply-to-all-enrollment-types"></a>これらの設定は次に適用されます。すべての登録の種類

- **[メニュー バーに追加情報を表示する]** :メニュー バー上の時刻領域が選択されている場合、 **[はい]** を選択すると、ホスト名と macOS のバージョンが表示されます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、この情報がメニュー バーに表示されない可能性があります。
- **[バナー]** :デバイスのサインイン画面に表示されるメッセージを入力します。 たとえば、組織の情報、ようこそメッセージ、遺失物情報などを入力します。
- **ユーザー名とパスワードのテキスト フィールドを必須にする**: ユーザーがデバイスにサインインする方法を選択します。 **[はい]** を選択すると、ユーザー名とパスワードの入力がユーザーに求められます。 **[未構成]** に設定すると、Intune では、この設定は変更または更新されません。 既定では、ユーザーは自分のユーザー名を一覧から選択し、さらに自分のパスワードを入力することを OS から求められる場合があります。

  次の項目も入力します。

  - **ローカル ユーザーを非表示にする**: **[はい]** の場合、ユーザー一覧にローカル ユーザー アカウントは表示されません。標準および管理者アカウントも対象となることがあります。 ネットワークおよびシステム ユーザー アカウントのみ表示されます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザー一覧にローカル ユーザー アカウントが表示される場合があります。
  - **モバイル アカウントを非表示にする**: **[はい]** の場合、ユーザー一覧にモバイル アカウントは表示されません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザー一覧にモバイル アカウントが表示される場合があります。 一部のモバイル アカウントは、ネットワーク ユーザーとして表示される場合があります。
  - **ネットワーク ユーザーを表示する**: **[はい]** を選択すると、ユーザー一覧にネットワーク ユーザーがリストされます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザー一覧にネットワーク ユーザー アカウントが表示されない可能性があります。
  - **コンピューターの管理者を非表示にする**: **[はい]** の場合、ユーザー一覧に管理者ユーザー アカウントは表示されません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザー一覧に管理者ユーザー アカウントが表示される場合があります。
  - **他のユーザーを表示する**: **[はい]** を選択すると、ユーザー一覧に **[その他]** のユーザーがリストされます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザー一覧にその他のユーザー アカウントが表示されない可能性があります。

- **シャットダウン ボタンを非表示にする**: **[はい]** の場合、サインイン画面にシステム終了ボタンが表示されません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、シャットダウン ボタンが表示される場合があります。
- **再起動ボタンを非表示にする**: **[はい]** の場合、サインイン画面に再起動ボタンが表示されません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、再起動ボタンが表示される場合があります。
- **スリープ ボタンを非表示にする**: **[はい]** の場合、サインイン画面にスリープ ボタンが表示されません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、スリープ ボタンが表示される場合があります。
- **[[コンソール] からユーザーのログインを無効にする]** : **[はい]** の場合、サインインに使用される macOS コマンドラインが非表示になります。 一般的なユーザーの場合、この設定は **[はい]** に設定します。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS によって、詳しい知識のあるユーザーは macOS コマンド ラインを使用したサインインが許可される可能性があります。 ユーザーがコンソール モードに入るには、[ユーザー名] フィールドに `>console` を入力し、コンソール ウィンドウで認証を行う必要があります。
- **ログインしている間はシャットダウンを無効にする**: **[はい]** の場合、ユーザーはサインイン後 **[システム終了]** オプションを選択することができません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーはデバイスで **[シャットダウン]** メニュー項目を選択できる可能性があります。
- **ログインしている間は再起動を無効にする**: **[はい]** の場合、ユーザーはサインイン後 **[再起動]** オプションを選択することができません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーはデバイスで **[再起動]** メニュー項目を選択できる可能性があります。
- **ログインしている間は電源オフを無効にする**: **[はい]** の場合、ユーザーはサインイン後 **[電源オフ]** オプションを選択することができません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーはデバイスで **[電源オフ]** メニュー項目を選択できる可能性があります。
- **ログインしている間はログアウトを無効にする** (macOS 10.13 以降): **[はい]** の場合、ユーザーはサインイン後 **[ログアウト]** オプションを選択することができません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーはデバイスで **[ログアウト]** メニュー項目を選択できる可能性があります。
- **ログインしている間はロック画面を無効にする** (macOS 10.13 以降): **[はい]** の場合、ユーザーはサインイン後 **[ロック画面]** オプションを選択することができません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーはデバイスで **[ロック画面]** メニュー項目を選択できる可能性があります。

## <a name="single-sign-on-app-extension"></a>シングル サインオン アプリの拡張機能

この機能は、以下に適用されます。

- macOS 10.15 以降

### <a name="settings-apply-to-user-approved-device-enrollment-and-automated-device-enrollment"></a>これらの設定は次に適用されます。ユーザーが承認したデバイス登録と、自動化されたデバイス登録

- **[SSO アプリ拡張機能の種類]** : SSO アプリ拡張機能の種類を選択します。 次のようなオプションがあります。

  - **[未構成]** :アプリの拡張機能は使用されません。 アプリの拡張機能を無効にするには、SSO アプリの拡張機能の種類を **[未構成]** に切り替えます。
  - **Microsoft Azure AD**: 

    > [!IMPORTANT]
    > Microsoft Azure AD SSO 拡張機能が現在も開発中です。 Intune のユーザー インターフェイスに表示されますが、想定どおりに機能しません。 SSO アプリ拡張機能の種類として **Microsoft Azure AD** を使用しないでください。

    リダイレクト型 SSO アプリ拡張機能である Microsoft Enterprise SSO プラグインが使用されます。 このプラグインにより、[Apple の Enterprise Single Sign-On](https://developer.apple.com/documentation/authenticationservices) 機能をサポートするすべての macOS アプリケーションで Active Directory アカウントに対する SSO が提供されます。 この SSO アプリ拡張機能の種類を使用して、Azure AD を使用して認証する Microsoft アプリ、組織アプリ、Web サイトで SSO を有効にします。

    SSO プラグインは、高度な認証ブローカーとして機能し、セキュリティとユーザー エクスペリエンスの向上を提供します。

    > [!IMPORTANT]
    > Microsoft Azure AD SSO アプリ拡張機能の種類で SSO を実現するには、macOS ポータル サイト アプリをデバイスにインストールします。 ポータル サイト アプリにより、Microsoft Enterprise SSO プラグインがデバイスに提供されます。 MDM SSO アプリ拡張機能の設定によって、プラグインがアクティブ化されます。 ポータル サイト アプリと SSO アプリ拡張機能プロファイルがデバイスにインストールされた後は、ユーザーは自分の資格情報でサインインし、デバイスでセッションを作成する必要があります。 このセッションはさまざまなアプリケーションで使用され、ユーザーは認証を再度行う必要がありません。
    >
    > ポータル サイト アプリの詳細については、「[ポータル サイト アプリをインストールし、Intune に macOS デバイスを登録するとどうなるか](../user-help/what-happens-if-you-install-the-Company-Portal-app-and-enroll-your-device-in-intune-macos.md)」を参照してください。 ポータル サイト アプリを[ダウンロード](https://go.microsoft.com/fwlink/?linkid=853070)してください。

  - **[リダイレクト]** : 最新の認証フローで SSO を使用するには、汎用のカスタマイズ可能なリダイレクト アプリ拡張機能を使用します。 組織のアプリ拡張機能の拡張機能 ID とチーム ID を確認しておきます。
  - **[資格情報]** : 汎用のカスタマイズ可能な資格情報アプリ拡張機能を使用し、チャレンジと応答の認証フローで SSO を使用します。 組織の SSO アプリ拡張機能の拡張機能 ID とチーム ID を確認しておきます。  
  - **Kerberos**: macOS Catalina 10.15 以降に含まれる Apple の組み込みの Kerberos 拡張機能を使用します。 このオプションは、 **[資格情報]** アプリ拡張機能の Kerberos 固有のバージョンです。

  > [!TIP]
  > **[リダイレクト]** と **[資格情報]** の種類の場合、拡張機能を通過させる自分の構成値を追加します。 **[資格情報]** を使用する場合は、Apple から提供されている組み込みの構成設定を **[Kerberos]** の種類で使用することを検討してください。

- **[拡張機能 ID]** (リダイレクト、資格情報): SSO アプリの拡張機能を識別するバンドル識別子 (`com.apple.ssoexample` など) を入力します。
- **[チーム ID]** (リダイレクト、資格情報): SSO アプリ拡張機能のチーム ID を入力します。 チーム識別子は、`ABCDE12345` など、Apple によって生成される 10 文字の英数字 (数字と文字) の文字列です。 

  詳細については、「[チーム ID を確認する](https://help.apple.com/developer-account/#/dev55c3c710c)」(Apple の Web サイトが開きます) を参照してください。

- **[領域]** (資格情報、Kerberos): 認証領域の名前を入力します。 領域名は、`CONTOSO.COM` のように大文字で指定する必要があります。 通常、領域名は DNS ドメイン名と同じですが、すべて大文字で指定します。

- **[ドメイン]** (資格情報、Kerberos): SSO を介して認証できるサイトのドメイン名またはホスト名を入力します。 たとえば、Web サイトが `mysite.contoso.com` の場合、`mysite` はホスト名、`contoso.com` はドメイン名です。 ユーザーがこれらのサイトのいずれかに接続すると、アプリ拡張機能によって認証チャレンジが処理されます。 この認証により、ユーザーは Face ID、Touch ID、または Apple ピンコードおよびパスコードを使用してサインインできます。

  - シングル サインオンアプリ拡張機能の Intune プロファイルのすべてのドメインは一意である必要があります。 さまざまな種類の SSO アプリ拡張機能を使用している場合でも、サインオン アプリ拡張機能のプロファイルでドメインを繰り返し指定することはできません。
  - これらのドメインでは大文字と小文字が区別されません。

- **[URL]** (リダイレクトのみ): リダイレクト アプリ拡張機能の SSO を代理で使用する ID プロバイダーの URL プレフィックスを入力します。 ユーザーがこれらの URL にリダイレクトされると、SSO アプリ拡張機能が介入し、SSO のプロンプトが表示されます。

  - Intune シングル サインオン アプリ拡張機能プロファイル内のすべての URL は一意である必要があります。 さまざまな種類の SSO アプリ拡張機能を使用している場合でも、SSO アプリ拡張機能のプロファイルでドメインを繰り返し指定することはできません。
  - URL は、`http://` または `https://` で始まる必要があります。

- **[追加の構成]** (Microsoft Azure AD、リダイレクト、資格情報):SSO アプリ拡張機能に渡す追加の拡張機能固有のデータを入力します。
  - **キー**:追加する項目の名前 (`user name` など) を入力します。
  - **種類**:データの種類を入力します。 次のようなオプションがあります。

    - 文字列型
    - [ブール型]: **[構成値]** に `True` または`False` を入力します。
    - [整数]: **[構成値]** に数値を入力します。

  - **値**:データを入力します。
  
  - **[追加]** :選択すると、構成キーが追加されます。

- **[キーチェーンの使用法]** (Kerberos のみ): パスワードがキーチェーンに保存および格納されないようにするには、 **[ブロック]** を選択します。 ブロックした場合、ユーザーはパスワードの保存を求められず、Kerberos チケットの有効期限が切れたらパスワードを再入力する必要があります。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、パスワードのキーチェーンへの保存および格納が許可される可能性があります。 チケットの有効期限が切れても、ユーザーはパスワードの再入力を求められません。
- **[Face ID、Touch ID、パスコード]** (Kerberos のみ): **[必要]** にすると、Kerberos チケットを更新するために資格情報が必要なとき、ユーザーに Face ID、Touch ID、またはデバイスのパスコードの入力が強制されます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーは Kerberos チケットを更新するために生体認証やデバイスのパスコードを使用する必要がない場合があります。 **[キーチェーンの使用法]** がブロックされている場合、この設定は適用されません。
- **[既定の領域]** (Kerberos のみ): **[有効]** を選択して、既定の領域として入力した **[領域]** 値を設定します。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS によって、既定の領域が設定されない可能性があります。

  > [!TIP]
  > - 組織で複数の Kerberos SSO アプリ拡張機能を構成している場合は、この設定を **[有効]** にします。
  > - 複数の領域を使用している場合は、この設定を **[有効]** にします。 これで、入力した **[領域]** 値が既定の領域として設定されます。
  > - 領域が 1 つしかない場合は、 **[未構成]** (既定) のままにします。

- **[自動検出]** (Kerberos のみ): **[ブロック]** に設定すると、Kerberos 拡張機能で Active Directory サイト名を決定する際に LDAP と DNS が自動的に使用されません。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、拡張機能によって Active Directory サイト名が自動的に検出されるようになる場合があります。
- **[パスワード変更]** (Kerberos のみ): **[ブロック]** を選択すると、ユーザーが入力したドメインへのサインインに使用するパスワードを変更できないようになります。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、パスワードの変更が許可される場合があります。  
- **[パスワード同期]** (Kerberos のみ): **[有効]** を選択すると、ユーザーのローカル パスワードが Azure AD に同期されます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、Azure AD とパスワードの同期が無効にされる場合があります。 この設定は、SSO の代替またはバックアップとして使用します。 ユーザーが Apple モバイル アカウントでサインインする場合、この設定は機能しません。
- **[Windows Server Active Directory のパスワードの複雑さ]** (Kerberos のみ): **[必要]** を選択すると、ユーザー パスワードが Active Directory のパスワードの複雑さの要件を満たすように強制されます。 詳細については、「[複雑さの要件を満たす必要があるパスワード](/windows/security/threat-protection/security-policy-settings/password-must-meet-complexity-requirements)」を参照してください。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーは Active Directory のパスワード要件を満たす必要がなくなる場合があります。
- **[パスワードの最小文字数]** (Kerberos のみ): ユーザーのパスワードを構成できる最小文字数を入力します。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、ユーザーにパスワードの最小文字数は強制されない可能性があります。
- **[パスワード再利用の制限]** (Kerberos のみ): ドメインで以前のパスワードを再利用できるようになるまで使用する、新しいパスワードの個数 (1 から 24 個) を入力します。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、パスワードの再利用制限が適用されない可能性があります。
- **[パスワードの変更禁止期間]** (Kerberos のみ): ユーザーがパスワードを変更できるようになるまでの、ドメインでパスワードを使用する日数を入力します。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、パスワードを変更できるようになるまでのパスワードの変更禁止期間は強制されない可能性があります。
- **[パスワードの有効期限の通知]** (Kerberos のみ): パスワードの有効期限が切れるまでの日数を入力します。ユーザーには、パスワードの有効期限が切れることが通知されます。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS によって、`15` 日間が使用される可能性があります。
- **[パスワードの有効期限]** (Kerberos のみ):デバイス パスワードの変更が必要になるまでの日数を入力します。 **[未構成]** (既定) に設定すると、Intune では、この設定は変更または更新されません。 既定では、OS により、パスワードの有効期限が切れない可能性があります。
- **[パスワード変更 URL]** (Kerberos のみ): ユーザーが Kerberos パスワードの変更を開始したときに開く URL を入力します。
- **[プリンシパル名]** (Kerberos のみ): Kerberos プリンシパルのユーザー名を入力します。 領域名を含める必要はありません。 たとえば、`user@contoso.com` の `user` はプリンシパル名であり、`contoso.com` は領域名です。

  > [!TIP]
  > - 中かっこ `{{ }}` を入力して、プリンシパル名に変数を使用することもできます。 たとえば、ユーザー名を表示するには、「`Username: {{username}}`」と入力します。 
  > - ただし、変数は UI で検証されず、大文字と小文字が区別されるため、変数の置き換えには注意してください。 必ず、正しい情報を入力してください。
  
- **[Active Directory サイト コード]** (Kerberos のみ): Kerberos 拡張機能が使用する Active Directory サイトの名前を入力します。 Kerberos 拡張機能によって Active Directory サイト コードが自動的に検出される可能性があるため、この値を変更する必要がない場合があります。
- **[キャッシュ名]** (Kerberos のみ): Kerberos キャッシュの汎用セキュリティ サービス (GSS) 名を入力します。 多くの場合、この値を設定する必要はありません。  
- **[パスワード要件のメッセージ]** (Kerberos のみ): ユーザーに表示される組織のパスワード要件のテキスト バージョンを入力します。 このメッセージは、Active Directory のパスワードの複雑さの要件を必須にしない場合、またはパスワードの最小文字数を入力しない場合に表示されます。  
- **[共有デバイス モードを有効にする]** (Microsoft Azure AD のみ): Azure AD の共有デバイス モード機能用に構成された macOS デバイスに Microsoft Enterprise SSO プラグインをデプロイする場合は、 **[はい]** を選択します。 共有モードのデバイスでは、多くのユーザーが、共有デバイス モードをサポートしているアプリケーションにグローバルにサインインおよびサインアウトすることができます。 **[未構成]** に設定すると、Intune では、この設定は変更または更新されません。 

  **[はい]** に設定すると、既存のすべてのユーザー アカウントがデバイスからワイプされます。 データの損失を避けるため、または出荷時の設定にリセットされないよう、この設定によってデバイスがどのように変更されるかを理解してください。

  共有デバイスモードの詳細については、「[共有デバイス モードの概要](/azure/active-directory/develop/msal-shared-devices)」を参照してください。

- **[アプリ バンドル ID]** (Microsoft Azure AD、Kerberos): デバイスでシングル サインオンを使用するアプリ バンドル ID を **[追加]** します。 これらのアプリには、Kerberos チケット保証チケットと認証チケットへのアクセスが許可されます。 また、アプリでは、アクセスする権限があるサービスに対するユーザーの認証も行います。
- **[ドメイン領域マッピング]** (Kerberos のみ): 領域にマップするドメインの DNS サフィックスを **[追加]** します。 ホストの DNS 名が領域名と一致しない場合、この設定を使用します。 ほとんどの場合、このカスタム ドメインから領域へのマッピングを作成する必要はありません。
- **[PKINIT 証明書]** (Kerberos のみ): Kerberos 認証に使用できる Public Key Cryptography for Initial Authentication (PKINIT) 証明書を **[選択]** します。 Intune で追加した [PKCS](../protect/certficates-pfx-configure.md) または [SCEP](../protect/certificates-scep-configure.md) 証明書から選択できます。 証明書の詳細については、「[Microsoft Intune で認証に証明書を使用する](../protect/certificates-configure.md)」を参照してください。

## <a name="next-steps"></a>次のステップ

[プロファイルを割り当て](device-profile-assign.md)、[その状態を監視](device-profile-monitor.md)します。

[iOS および iPadOS](ios-device-features-settings.md) でデバイス機能を構成することもできます。